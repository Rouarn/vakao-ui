/**
 * å·¥å…·å‡½æ•°æ¨¡å—
 *
 * æä¾›è„šæœ¬ç³»ç»Ÿä¸­å¸¸ç”¨çš„å·¥å…·å‡½æ•°ï¼ŒåŒ…æ‹¬åˆ†éš”çº¿ã€æˆåŠŸæ¶ˆæ¯å’Œé”™è¯¯å¤„ç†ã€‚
 * è¿™äº›å‡½æ•°ç”¨äºå¢å¼ºè„šæœ¬è¾“å‡ºçš„å¯è¯»æ€§å’Œç”¨æˆ·ä½“éªŒã€‚
 *
 * ä¸»è¦ç‰¹æ€§ï¼š
 * - åˆ†éš”çº¿ï¼šåˆ›å»ºè§†è§‰åˆ†éš”æ•ˆæœ
 * - æˆåŠŸæ¶ˆæ¯ï¼šç»Ÿä¸€çš„æˆåŠŸæç¤ºæ ¼å¼
 * - é”™è¯¯å¤„ç†ï¼šæ ‡å‡†åŒ–çš„é”™è¯¯å¤„ç†å’Œé€€å‡ºæœºåˆ¶
 * - å¯å®šåˆ¶ï¼šæ”¯æŒè‡ªå®šä¹‰å­—ç¬¦å’Œé•¿åº¦
 *
 * @example
 * ```javascript
 * const { separator, showSuccess, handleError } = require('./utils');
 *
 * // æ˜¾ç¤ºåˆ†éš”çº¿
 * separator();
 * separator('=', 60);
 *
 * // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
 * showSuccess('é¡¹ç›®æ„å»ºå®Œæˆ');
 *
 * // å¤„ç†é”™è¯¯
 * try {
 *   // ä¸€äº›æ“ä½œ
 * } catch (error) {
 *   handleError('æ“ä½œå¤±è´¥', error);
 * }
 * ```
 *
 * @version 1.0.0
 * @author Vakao UI Team
 */

const { colors } = require("./colors");
const { log } = require("./logger");

/**
 * æ˜¾ç¤ºåˆ†éš”çº¿
 *
 * åœ¨æ§åˆ¶å°è¾“å‡ºæŒ‡å®šå­—ç¬¦ç»„æˆçš„åˆ†éš”çº¿ï¼Œç”¨äºè§†è§‰ä¸Šåˆ†éš”ä¸åŒçš„å†…å®¹åŒºåŸŸã€‚
 * åˆ†éš”çº¿ä½¿ç”¨æš—æ·¡æ ·å¼æ˜¾ç¤ºï¼Œä¸ä¼šè¿‡äºçªå‡ºã€‚
 *
 * @param {string} [char='â”€'] - ç”¨äºæ„æˆåˆ†éš”çº¿çš„å­—ç¬¦
 * @param {number} [length=50] - åˆ†éš”çº¿çš„é•¿åº¦ï¼ˆå­—ç¬¦æ•°é‡ï¼‰
 *
 * @example
 * ```javascript
 * // é»˜è®¤åˆ†éš”çº¿
 * separator();
 * // è¾“å‡ºï¼šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 *
 * // è‡ªå®šä¹‰å­—ç¬¦çš„åˆ†éš”çº¿
 * separator('=');
 * // è¾“å‡ºï¼š==================================================
 *
 * // è‡ªå®šä¹‰é•¿åº¦çš„åˆ†éš”çº¿
 * separator('-', 30);
 * // è¾“å‡ºï¼š------------------------------
 *
 * // åŒçº¿åˆ†éš”çº¿ï¼ˆç”¨äºé‡è¦åˆ†éš”ï¼‰
 * separator('â•', 60);
 * // è¾“å‡ºï¼šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ```
 */
function separator(char = "â”€", length = 50) {
  console.log(`${colors.dim}${char.repeat(length)}${colors.reset}`);
}

/**
 * æ˜¾ç¤ºæˆåŠŸç»“æŸæ¶ˆæ¯
 *
 * è¾“å‡ºæ ¼å¼åŒ–çš„æˆåŠŸæ¶ˆæ¯ï¼ŒåŒ…å«è£…é¥°æ€§çš„åˆ†éš”çº¿å’Œåº†ç¥å›¾æ ‡ã€‚
 * ç”¨äºæ ‡è¯†é‡è¦æ“ä½œçš„æˆåŠŸå®Œæˆï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·åé¦ˆã€‚
 *
 * è¾“å‡ºæ ¼å¼ï¼š
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ğŸ‰ [æ¶ˆæ¯å†…å®¹] ğŸ‰
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * @param {string} message - æˆåŠŸæ¶ˆæ¯å†…å®¹
 *
 * @example
 * ```javascript
 * // é¡¹ç›®æ„å»ºæˆåŠŸ
 * showSuccess('é¡¹ç›®æ„å»ºå®Œæˆ');
 *
 * // åŒ…å‘å¸ƒæˆåŠŸ
 * showSuccess('åŒ…å·²æˆåŠŸå‘å¸ƒåˆ° npm');
 *
 * // éƒ¨ç½²æˆåŠŸ
 * showSuccess('åº”ç”¨å·²æˆåŠŸéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ');
 *
 * // æµ‹è¯•é€šè¿‡
 * showSuccess('æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡');
 * ```
 */
function showSuccess(message) {
  separator("â•");
  log(`ğŸ‰ ${message} ğŸ‰`, "success");
  separator("â•");
}

/**
 * é”™è¯¯å¤„ç†å‡½æ•°
 *
 * ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯å¹¶ç»ˆæ­¢ç¨‹åºæ‰§è¡Œã€‚
 * ç”¨äºå¤„ç†ä¸å¯æ¢å¤çš„é”™è¯¯æƒ…å†µï¼Œç¡®ä¿ç¨‹åºä¸ä¼šç»§ç»­æ‰§è¡Œã€‚
 *
 * @param {string} message - é”™è¯¯æè¿°ä¿¡æ¯
 * @param {Error|string} error - é”™è¯¯å¯¹è±¡æˆ–é”™è¯¯æ¶ˆæ¯
 *
 * @throws {never} æ­¤å‡½æ•°ä¼šè°ƒç”¨ process.exit(1) ç»ˆæ­¢ç¨‹åº
 *
 * @example
 * ```javascript
 * // æ–‡ä»¶æ“ä½œé”™è¯¯
 * try {
 *   const content = fs.readFileSync('config.json', 'utf8');
 * } catch (error) {
 *   handleError('è¯»å–é…ç½®æ–‡ä»¶å¤±è´¥', error);
 * }
 *
 * // ç½‘ç»œè¯·æ±‚é”™è¯¯
 * fetch('/api/data')
 *   .catch(error => {
 *     handleError('è·å–æ•°æ®å¤±è´¥', error);
 *   });
 *
 * // è‡ªå®šä¹‰é”™è¯¯
 * if (!isValidInput(input)) {
 *   handleError('è¾“å…¥éªŒè¯å¤±è´¥', 'è¾“å…¥å‚æ•°ä¸ç¬¦åˆè¦æ±‚');
 * }
 *
 * // æ„å»ºé”™è¯¯
 * try {
 *   await buildProject();
 * } catch (error) {
 *   handleError('é¡¹ç›®æ„å»ºå¤±è´¥', error);
 * }
 * ```
 */
function handleError(message, error) {
  log(`${message}: ${error}`, "error");
  process.exit(1);
}

module.exports = {
  separator,
  showSuccess,
  handleError,
};
