# Vakao UI è„šæœ¬ç³»ç»Ÿ

è¿™æ˜¯ Vakao UI ç»„ä»¶åº“çš„ç»Ÿä¸€è„šæœ¬ç®¡ç†ç³»ç»Ÿï¼Œæä¾›å‘å¸ƒã€éƒ¨ç½²å’Œæ‰©å±•åŠŸèƒ½ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
scripts/
â”œâ”€â”€ core/                          # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ deployment-engine.js       # éƒ¨ç½²å¼•æ“
â”‚   â”œâ”€â”€ extension-manager.js       # æ‰©å±•ç®¡ç†å™¨
â”‚   â”œâ”€â”€ interactive.js             # äº¤äº’ç•Œé¢
â”‚   â”œâ”€â”€ package-configs.js         # åŒ…é…ç½®
â”‚   â””â”€â”€ publish-engine.js          # å‘å¸ƒå¼•æ“
â”œâ”€â”€ extensions/                    # æ‰©å±•æ’ä»¶
â”‚   â”œâ”€â”€ README.md                 # æ‰©å±•å¼€å‘æŒ‡å—
â”‚   â”œâ”€â”€ github-integration.js     # GitHub é›†æˆ
â”‚   â”œâ”€â”€ legacy-deploy.js          # ä¼ ç»Ÿéƒ¨ç½²æ‰©å±•
â”‚   â””â”€â”€ notification.js           # é€šçŸ¥æ‰©å±•
â”œâ”€â”€ legacy/                       # ä¼ ç»Ÿè„šæœ¬ï¼ˆå·²åºŸå¼ƒï¼‰
â”œâ”€â”€ publish.js                    # ç»Ÿä¸€å‘å¸ƒå·¥å…·ï¼ˆä¸»å…¥å£ï¼‰
â”œâ”€â”€ utils.js                      # å·¥å…·å‡½æ•°
â””â”€â”€ README.md                     # æœ¬æ–‡æ¡£
```

## ğŸš€ ä¸»è¦åŠŸèƒ½

### 1. ç»Ÿä¸€å‘å¸ƒç³»ç»Ÿ (`publish.js`)

è¿™æ˜¯ä¸»è¦çš„å‘å¸ƒå·¥å…·ï¼Œæ•´åˆäº†åŒ…å‘å¸ƒå’Œéƒ¨ç½²åŠŸèƒ½ã€‚

#### åŸºæœ¬ç”¨æ³•

```bash
# äº¤äº’å¼å‘å¸ƒ
node scripts/publish.js

# å‘å¸ƒæŒ‡å®šåŒ…
node scripts/publish.js --package main
node scripts/publish.js --packages main,hooks,utils

# æµ‹è¯•æ¨¡å¼ï¼ˆä¸å®é™…å‘å¸ƒï¼‰
node scripts/publish.js --dry-run

# åŒæ­¥ç‰ˆæœ¬å·
node scripts/publish.js --sync-version
```

#### éƒ¨ç½²åŠŸèƒ½

```bash
# ä»…éƒ¨ç½²ï¼ˆä¸å‘å¸ƒåŒ…ï¼‰
node scripts/publish.js --deploy-only

# æŒ‡å®šéƒ¨ç½²ç­–ç•¥
node scripts/publish.js --deploy-only --deploy-strategy docs
node scripts/publish.js --deploy-only --deploy-strategy github-pages

# å‘å¸ƒåè‡ªåŠ¨éƒ¨ç½²
node scripts/publish.js --deploy

# è·³è¿‡éƒ¨ç½²
node scripts/publish.js --skip-deploy
```

#### å¯ç”¨çš„éƒ¨ç½²ç­–ç•¥

- `docs`: æ–‡æ¡£éƒ¨ç½²ï¼ˆé»˜è®¤ï¼‰
- `github-pages`: GitHub Pages éƒ¨ç½²
- `static`: é™æ€èµ„æºéƒ¨ç½²
- `legacy-docs`: ä¼ ç»Ÿæ–‡æ¡£éƒ¨ç½²ï¼ˆé€šè¿‡æ‰©å±•æä¾›ï¼‰

### 2. å…¼å®¹æ€§éƒ¨ç½²è„šæœ¬ (`deploy.js`)

ä¸ºäº†ä¿æŒå‘åå…¼å®¹ï¼ŒåŸæœ‰çš„ `deploy.js` è„šæœ¬ä»ç„¶å¯ç”¨ï¼Œä½†ä¼šé‡å®šå‘åˆ°æ–°çš„ç»Ÿä¸€å‘å¸ƒç³»ç»Ÿã€‚

```bash
# ä¼ ç»Ÿç”¨æ³•ï¼ˆä»ç„¶æœ‰æ•ˆï¼‰
node scripts/legacy/deploy.js

# ç­‰ä»·äº
node scripts/publish.js --deploy-only --deploy-strategy docs
```

## ğŸ”§ æ ¸å¿ƒæ¶æ„

### å‘å¸ƒå¼•æ“ (`PublishEngine`)

è´Ÿè´£åŒ…çš„å‘å¸ƒé€»è¾‘ï¼ŒåŒ…æ‹¬ï¼š

- ç‰ˆæœ¬ç®¡ç†
- ä¾èµ–å…³ç³»å¤„ç†
- å‘å¸ƒæµç¨‹æ§åˆ¶
- é”™è¯¯å¤„ç†

### éƒ¨ç½²å¼•æ“ (`DeploymentEngine`)

è´Ÿè´£éƒ¨ç½²é€»è¾‘ï¼Œæ”¯æŒï¼š

- å¤šç§éƒ¨ç½²ç­–ç•¥
- æ’ä»¶åŒ–æ¶æ„
- éƒ¨ç½²å‰æ£€æŸ¥
- é’©å­å‡½æ•°

### æ‰©å±•ç®¡ç†å™¨ (`ExtensionManager`)

æä¾›æ’ä»¶åŒ–æ‰©å±•èƒ½åŠ›ï¼š

- åŠ¨æ€åŠ è½½æ‰©å±•
- ç”Ÿå‘½å‘¨æœŸç®¡ç†
- æ‰©å±•é—´é€šä¿¡
- é…ç½®ç®¡ç†

## ğŸ”Œ æ‰©å±•ç³»ç»Ÿ

æ‰©å±•ç³»ç»Ÿå…è®¸ä½ æ·»åŠ è‡ªå®šä¹‰åŠŸèƒ½ï¼Œå¦‚é€šçŸ¥ã€GitHub é›†æˆç­‰ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒ [æ‰©å±•å¼€å‘æŒ‡å—](./extensions/README.md)ã€‚

### å†…ç½®æ‰©å±•

1. **GitHub é›†æˆ** (`github-integration.js`)
   - éƒ¨ç½²å‰æ£€æŸ¥æœªæ¨é€çš„æäº¤
   - éƒ¨ç½²åå¤„ç†ï¼ˆå¦‚åˆ›å»º Releaseï¼‰

2. **é€šçŸ¥ç³»ç»Ÿ** (`notification.js`)
   - é‚®ä»¶é€šçŸ¥
   - Webhook é€šçŸ¥
   - æ¡Œé¢é€šçŸ¥

3. **ä¼ ç»Ÿéƒ¨ç½²** (`legacy-deploy.js`)
   - æä¾› `legacy-docs` éƒ¨ç½²ç­–ç•¥
   - å…¼å®¹åŸæœ‰éƒ¨ç½²æµç¨‹

## ğŸ“ é…ç½®

### åŒ…é…ç½®

åŒ…çš„é…ç½®åœ¨ `core/package-configs.js` ä¸­å®šä¹‰ï¼ŒåŒ…æ‹¬ï¼š

- åŒ…åç§°å’Œè·¯å¾„
- æ„å»ºå‘½ä»¤
- ä¾èµ–å…³ç³»
- å‘å¸ƒé…ç½®

### æ‰©å±•é…ç½®

æ‰©å±•å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é…ç½®ï¼š

1. **ç¯å¢ƒå˜é‡**
2. **é…ç½®æ–‡ä»¶**
3. **å‘½ä»¤è¡Œå‚æ•°**

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„éƒ¨ç½²ç­–ç•¥

1. åœ¨ `DeploymentEngine` ä¸­æ³¨å†Œæ–°ç­–ç•¥
2. å®ç°ç­–ç•¥çš„éƒ¨ç½²é€»è¾‘
3. æ·»åŠ ç›¸åº”çš„é…ç½®é€‰é¡¹

### åˆ›å»ºæ‰©å±•

1. åœ¨ `extensions/` ç›®å½•ä¸‹åˆ›å»ºæ‰©å±•æ–‡ä»¶
2. å®ç°æ‰©å±•ç±»ï¼Œç»§æ‰¿åŸºç¡€æ‰©å±•æ¥å£
3. æ³¨å†Œé’©å­å‡½æ•°
4. æ·»åŠ é…ç½®å’Œæ–‡æ¡£

### ä¿®æ”¹å‘å¸ƒæµç¨‹

1. ä¿®æ”¹ `PublishEngine` ä¸­çš„ç›¸å…³æ–¹æ³•
2. æ›´æ–°åŒ…é…ç½®ï¼ˆå¦‚éœ€è¦ï¼‰
3. æ·»åŠ æµ‹è¯•å’Œæ–‡æ¡£

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å‘å¸ƒå¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - éªŒè¯ npm è®¤è¯
   - ç¡®è®¤åŒ…ç‰ˆæœ¬å·

2. **éƒ¨ç½²å¤±è´¥**
   - æ£€æŸ¥ Git çŠ¶æ€
   - éªŒè¯ GitHub æƒé™
   - ç¡®è®¤æ„å»ºäº§ç‰©

3. **æ‰©å±•åŠ è½½å¤±è´¥**
   - æ£€æŸ¥æ‰©å±•è¯­æ³•
   - éªŒè¯ä¾èµ–å®‰è£…
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
DEBUG=* node scripts/publish.js

# æµ‹è¯•æ¨¡å¼
node scripts/publish.js --dry-run
```

## ğŸ“š æ›´å¤šä¿¡æ¯

- [æ‰©å±•å¼€å‘æŒ‡å—](./extensions/README.md)
- [API æ–‡æ¡£](./docs/api.md)
- [æ›´æ–°æ—¥å¿—](./CHANGELOG.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªè„šæœ¬ç³»ç»Ÿï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚
