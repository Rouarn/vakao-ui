# Vakao UI 组件库 NPM 配置文件
# 此文件配置了组件库发布和开发所需的 NPM 设置

# ==================== 包管理器配置 ====================

# 使用 pnpm 作为包管理器
package-manager=pnpm

# 启用严格的对等依赖检查
strict-peer-dependencies=true

# 自动安装对等依赖
auto-install-peers=true

# ==================== 仓库配置 ====================

# 默认 NPM 仓库 (当前使用的全局私有仓库)
# registry=https://registry.npmjs.org/

# 私有包作用域配置（如果使用私有仓库）
# @vakao:registry=https://npm.your-private-registry.com/
# npm.your-private-registry.com/:_authToken=${NPM_PRIVATE_TOKEN}

# ==================== 发布配置 ====================

# 发布时包含所有文件（由 .npmignore 控制）
pack-destination=dist

# 发布前自动运行构建脚本
publish-branch=main

# 启用发布时的访问控制
access=public

# ==================== 安全配置 ====================

# 启用包完整性检查
package-lock=true

# 禁用不安全的 HTTP 仓库
strict-ssl=true

# 启用审计检查
audit-level=moderate

# ==================== 缓存配置 ====================

# 设置缓存目录（可选）
# cache=.npm-cache

# 缓存最大年龄（秒）
cache-max=86400

# ==================== 开发配置 ====================

# 保存精确版本号
save-exact=true

# 安装时显示进度
progress=true

# 启用颜色输出
color=always

# ==================== 工作空间配置 ====================

# 启用工作空间支持
workspaces-update=true

# 工作空间包提升
hoist-pattern[]=*

# 不提升的包模式
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=*typescript*

# ==================== 性能优化 ====================

# 启用并行安装
parallel=true

# 网络超时设置（毫秒）
network-timeout=60000

# 重试次数
fetch-retries=3

# ==================== 日志配置 ====================

# 日志级别
loglevel=info

# 启用详细日志（开发时可启用）
# loglevel=verbose

# ==================== 环境变量配置 ====================

# 生产环境配置
# production=true

# 开发环境配置
# development=true

# ==================== 特殊配置 ====================

# 忽略脚本执行（安全考虑）
# ignore-scripts=true

# 仅安装生产依赖
# production=true

# 跳过可选依赖
# optional=false

# ==================== Electron 配置 ====================

# Electron 镜像源配置（解决下载超时问题）
electron_mirror=https://npmmirror.com/mirrors/electron/
electron_builder_binaries_mirror=https://npmmirror.com/mirrors/electron-builder-binaries/

# Electron 缓存目录
electron_cache=.electron-cache

# 其他二进制文件镜像
node_gyp_mirror=https://npmmirror.com/mirrors/node/
sass_binary_site=https://npmmirror.com/mirrors/node-sass/
phantomjs_cdnurl=https://npmmirror.com/mirrors/phantomjs/
chromedriver_cdnurl=https://npmmirror.com/mirrors/chromedriver/