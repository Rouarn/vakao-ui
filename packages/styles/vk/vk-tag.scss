@use "../mixins.scss" as *;
@use "../base.scss" as *;

// VkTag 标签淡入淡出动画
.vk-tag-fade-enter-active,
.vk-tag-fade-leave-active {
  transition:
    opacity 0.3s,
    transform 0.3s;
}

.vk-tag-fade-enter-from,
.vk-tag-fade-leave-to {
  opacity: 0;
  transform: scale(0.8);
}

// VkTag 组件样式
.vk-tag {
  /* 基础样式定义 */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--vk-spacing-1) var(--vk-spacing-2);
  font-size: var(--vk-font-size-sm);
  font-weight: 500;
  line-height: 1;
  border-radius: var(--vk-border-radius-base);
  border: 1px solid transparent;
  box-sizing: border-box;
  white-space: nowrap;
  transition: all var(--vk-transition-duration-base);
  cursor: default;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);

  /* 尺寸变体 */
  &--tiny {
    padding: calc(var(--vk-spacing-1) * 0.5) var(--vk-spacing-1);
    font-size: calc(var(--vk-font-size-xs) * 0.9);
    border-radius: var(--vk-border-radius-sm);
  }

  &--small {
    padding: var(--vk-spacing-1) var(--vk-spacing-2);
    font-size: var(--vk-font-size-xs);
    border-radius: var(--vk-border-radius-sm);
  }

  &--medium {
    padding: var(--vk-spacing-1) var(--vk-spacing-2);
    font-size: var(--vk-font-size-sm);
    border-radius: var(--vk-border-radius-base);
  }

  &--large {
    padding: var(--vk-spacing-2) var(--vk-spacing-3);
    font-size: var(--vk-font-size-base);
    border-radius: var(--vk-border-radius-md);
  }

  /* 效果变体 - 浅色效果（默认） */
  &--light {
    /* 默认类型 */
    background-color: var(--vk-fill-color-light);
    color: var(--vk-text-color-secondary);
    border-color: var(--vk-border-color-light);
  }

  /* 当没有指定类型时的默认样式 */
  &:not([class*="--primary"]):not([class*="--success"]):not([class*="--warning"]):not([class*="--danger"]):not([class*="--info"]) {
    background-color: var(--vk-fill-color-light);
    color: var(--vk-text-color-secondary);
    border-color: var(--vk-border-color-light);
  }

  /* 类型变体 - 浅色效果下的颜色 */

  &--primary {
    background-color: var(--vk-color-primary-light-8);
    color: var(--vk-color-primary-dark-2);
    border-color: var(--vk-color-primary-light-6);
  }

  &--success {
    background-color: var(--vk-color-success-light-8);
    color: var(--vk-color-success-dark-2);
    border-color: var(--vk-color-success-light-6);
  }

  &--warning {
    background-color: var(--vk-color-warning-light-8);
    color: var(--vk-color-warning-dark-2);
    border-color: var(--vk-color-warning-light-6);
  }

  &--danger {
    background-color: var(--vk-color-danger-light-8);
    color: var(--vk-color-danger-dark-2);
    border-color: var(--vk-color-danger-light-6);
  }

  &--info {
    background-color: var(--vk-color-info-light-8);
    color: var(--vk-color-info-dark-2);
    border-color: var(--vk-color-info-light-6);
  }

  /* 效果变体 - 深色效果 */
  &--dark {
    /* 默认深色样式 */
    background-color: #606266;
    color: var(--vk-color-white);
    border-color: #606266;

    /* 深色主题下的类型变体 */
    &.vk-tag--primary {
      background-color: var(--vk-color-primary) !important;
      color: var(--vk-color-white) !important;
      border-color: var(--vk-color-primary) !important;
    }

    &.vk-tag--success {
      background-color: var(--vk-color-success) !important;
      color: var(--vk-color-white) !important;
      border-color: var(--vk-color-success) !important;
    }

    &.vk-tag--warning {
      background-color: var(--vk-color-warning) !important;
      color: var(--vk-color-white) !important;
      border-color: var(--vk-color-warning) !important;
    }

    &.vk-tag--danger {
      background-color: var(--vk-color-danger) !important;
      color: var(--vk-color-white) !important;
      border-color: var(--vk-color-danger) !important;
    }

    &.vk-tag--info {
      background-color: var(--vk-color-info) !important;
      color: var(--vk-color-white) !important;
      border-color: var(--vk-color-info) !important;
    }
  }

  /* 效果变体 - 简约效果 */
  &--plain {
    background-color: var(--vk-color-white, #ffffff);

    &.vk-tag--default {
      color: var(--vk-tag-default-color, #909399);
      border-color: var(--vk-tag-default-border, #e9e9eb);
    }

    &.vk-tag--primary {
      color: var(--vk-color-primary, #409eff);
      border-color: var(--vk-tag-primary-border, #b3d8ff);
    }

    &.vk-tag--success {
      color: var(--vk-color-success, #67c23a);
      border-color: var(--vk-tag-success-border, #c2e7b0);
    }

    &.vk-tag--warning {
      color: var(--vk-color-warning, #e6a23c);
      border-color: var(--vk-tag-warning-border, #f5dab1);
    }

    &.vk-tag--danger {
      color: var(--vk-color-danger, #f56c6c);
      border-color: var(--vk-tag-danger-border, #fbc4c4);
    }

    &.vk-tag--info {
      color: var(--vk-color-info, #909399);
      border-color: var(--vk-tag-info-border, #d3d4d6);
    }
  }

  /* 状态样式 */
  &.is-round {
    border-radius: var(--vk-border-radius-full);
  }

  &.is-bordered {
    border-width: 1px;
    border-style: solid;
  }

  &.is-clickable {
    cursor: pointer;

    &:hover {
      opacity: 0.8;
    }

    &:active {
      opacity: 0.6;
    }
  }

  /* 内容包装样式 */
  &__content {
    display: inline-flex;
    align-items: center;
    gap: var(--vk-spacing-1);
  }

  /* 关闭按钮样式 */
  &__close {
    margin-left: var(--vk-spacing-1);
    cursor: pointer;
    font-size: var(--vk-font-size-xs);
    transition: color var(--vk-transition-duration-base);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1em;
    height: 1em;
    border-radius: 50%;

    &:hover {
      color: var(--vk-color-black) !important;
      background-color: rgba(0, 0, 0, 0.1);
    }
  }
}
