# éƒ¨ç½²æ–‡æ¡£åˆ° GitHub Pages

æœ¬é¡¹ç›®å·²é…ç½®è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ï¼Œå¯ä»¥å°† VitePress æ–‡æ¡£è‡ªåŠ¨éƒ¨ç½²åˆ° GitHub Pagesã€‚

## è‡ªåŠ¨éƒ¨ç½²è®¾ç½®

### 1. GitHub Actions å·¥ä½œæµ

é¡¹ç›®å·²åŒ…å« `.github/workflows/deploy-docs.yml` å·¥ä½œæµæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¼šåœ¨ä»¥ä¸‹æƒ…å†µä¸‹è‡ªåŠ¨è§¦å‘ï¼š

- æ¨é€åˆ° `main` æˆ– `master` åˆ†æ”¯
- åˆ›å»ºé’ˆå¯¹ `main` æˆ– `master` åˆ†æ”¯çš„ Pull Request

### 2. GitHub Pages è®¾ç½®

åœ¨ GitHub ä»“åº“ä¸­å¯ç”¨ GitHub Pagesï¼š

1. è¿›å…¥ä»“åº“çš„ **Settings** é¡µé¢
2. åœ¨å·¦ä¾§èœå•ä¸­æ‰¾åˆ° **Pages**
3. åœ¨ **Source** éƒ¨åˆ†é€‰æ‹© **GitHub Actions**
4. ä¿å­˜è®¾ç½®

### 3. éƒ¨ç½²æµç¨‹

å·¥ä½œæµåŒ…å«ä¸¤ä¸ªä¸»è¦æ­¥éª¤ï¼š

#### æ„å»ºæ­¥éª¤ (Build)

- æ£€å‡ºä»£ç 
- è®¾ç½® pnpm å’Œ Node.js ç¯å¢ƒ
- å®‰è£…ä¾èµ–
- æ„å»º VitePress æ–‡æ¡£
- ä¸Šä¼ æ„å»ºäº§ç‰©

#### éƒ¨ç½²æ­¥éª¤ (Deploy)

- å°†æ„å»ºäº§ç‰©éƒ¨ç½²åˆ° GitHub Pages
- æä¾›è®¿é—® URL

## æ‰‹åŠ¨éƒ¨ç½²

å¦‚æœéœ€è¦æ‰‹åŠ¨éƒ¨ç½²ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š

### 1. æœ¬åœ°æ„å»º

```bash
# è¿›å…¥æ–‡æ¡£ç›®å½•
cd docs

# å®‰è£…ä¾èµ–
pnpm install

# æ„å»ºæ–‡æ¡£
pnpm run build
```

### 2. éƒ¨ç½²åˆ° GitHub Pages

æ„å»ºå®Œæˆåï¼Œ`docs/.vitepress/dist` ç›®å½•åŒ…å«äº†æ‰€æœ‰é™æ€æ–‡ä»¶ã€‚

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ gh-pages åŒ…

```bash
# å®‰è£… gh-pages
npm install -g gh-pages

# éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯
gh-pages -d docs/.vitepress/dist
```

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ¨é€åˆ° gh-pages åˆ†æ”¯

```bash
# è¿›å…¥æ„å»ºç›®å½•
cd docs/.vitepress/dist

# åˆå§‹åŒ– git ä»“åº“
git init
git add -A
git commit -m 'deploy'

# æ¨é€åˆ° gh-pages åˆ†æ”¯
git push -f git@github.com:Rouarn/vakao-ui.git master:gh-pages
```

## é…ç½®è¯´æ˜

### VitePress é…ç½®

åœ¨ `docs/.vitepress/config.ts` ä¸­å·²é…ç½®ï¼š

```typescript
export default defineConfig({
  base: "/vakao-ui/", // GitHub Pages éƒ¨ç½²è·¯å¾„
  // ... å…¶ä»–é…ç½®
});
```

`base` è·¯å¾„å¿…é¡»ä¸ GitHub ä»“åº“åç§°åŒ¹é…ï¼Œæ ¼å¼ä¸º `/ä»“åº“å/`ã€‚

### å·¥ä½œæµæƒé™

å·¥ä½œæµå·²é…ç½®å¿…è¦çš„æƒé™ï¼š

```yaml
permissions:
  contents: read
  pages: write
  id-token: write
```

## è®¿é—®éƒ¨ç½²çš„æ–‡æ¡£

éƒ¨ç½²æˆåŠŸåï¼Œæ–‡æ¡£å°†åœ¨ä»¥ä¸‹åœ°å€å¯ç”¨ï¼š

```
https://rouarn.github.io/vakao-ui/
```

## æ™ºèƒ½é€šçŸ¥åŠŸèƒ½

é¡¹ç›®é›†æˆäº†æ™ºèƒ½é€šçŸ¥ç³»ç»Ÿï¼Œåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨å‘é€é€šçŸ¥ï¼š

- ğŸ–¥ï¸ **æ¡Œé¢é€šçŸ¥**: éƒ¨ç½²æˆåŠŸ/å¤±è´¥æ—¶è‡ªåŠ¨å‘é€ç³»ç»Ÿé€šçŸ¥
- ğŸ“§ **é‚®ä»¶é€šçŸ¥**: æ”¯æŒé…ç½®é‚®ä»¶é€šçŸ¥ï¼ˆå¯é€‰ï¼‰
- ğŸ”— **Webhook é€šçŸ¥**: æ”¯æŒé›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆå¯é€‰ï¼‰

### é…ç½®é€šçŸ¥

```bash
# é‚®ä»¶é€šçŸ¥é…ç½®ï¼ˆå¯é€‰ï¼‰
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
NOTIFICATION_EMAIL=admin@company.com

# Webhook é€šçŸ¥é…ç½®ï¼ˆå¯é€‰ï¼‰
WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **éƒ¨ç½²å¤±è´¥**
   - æ£€æŸ¥ GitHub Actions æ—¥å¿—
   - ç¡®è®¤ GitHub Pages å·²å¯ç”¨
   - éªŒè¯å·¥ä½œæµæƒé™è®¾ç½®
   - éƒ¨ç½²å¤±è´¥æ—¶ä¼šè‡ªåŠ¨å‘é€æ¡Œé¢é€šçŸ¥

2. **èµ„æºåŠ è½½å¤±è´¥**
   - æ£€æŸ¥ `base` è·¯å¾„é…ç½®æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤é™æ€èµ„æºè·¯å¾„æ˜¯å¦æ­£ç¡®

3. **é¡µé¢æ˜¾ç¤ºå¼‚å¸¸**
   - æ£€æŸ¥æ„å»ºæ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯
   - éªŒè¯ VitePress é…ç½®æ˜¯å¦æ­£ç¡®

4. **æ¡Œé¢é€šçŸ¥æœªæ˜¾ç¤º**
   - ç¡®è®¤ `node-notifier` ä¾èµ–å·²å®‰è£…
   - æ£€æŸ¥ç³»ç»Ÿé€šçŸ¥æƒé™è®¾ç½®
   - éªŒè¯é€šçŸ¥æ‰©å±•æ˜¯å¦æ­£ç¡®åŠ è½½

### è°ƒè¯•æ­¥éª¤

1. æœ¬åœ°æµ‹è¯•æ„å»ºï¼š

   ```bash
   cd docs
   pnpm run build
   pnpm run serve
   ```

2. æ£€æŸ¥æ„å»ºäº§ç‰©ï¼š

   ```bash
   ls -la docs/.vitepress/dist
   ```

3. æŸ¥çœ‹ GitHub Actions æ—¥å¿—ï¼š
   - è¿›å…¥ä»“åº“çš„ **Actions** é¡µé¢
   - ç‚¹å‡»ç›¸åº”çš„å·¥ä½œæµè¿è¡Œ
   - æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

## è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

å¦‚æœè¦ä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼š

1. åœ¨ `docs/.vitepress/public/` ç›®å½•ä¸‹åˆ›å»º `CNAME` æ–‡ä»¶
2. åœ¨æ–‡ä»¶ä¸­å†™å…¥ä½ çš„åŸŸåï¼Œå¦‚ï¼š`docs.vakao-ui.com`
3. åœ¨åŸŸåæä¾›å•†å¤„é…ç½® CNAME è®°å½•æŒ‡å‘ `rouarn.github.io`
4. æ›´æ–° VitePress é…ç½®ä¸­çš„ `base` è·¯å¾„ä¸º `/`

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿ä»“åº“æ˜¯å…¬å¼€çš„ï¼Œæˆ–è€…æœ‰ GitHub Pro è´¦æˆ·ï¼ˆç§æœ‰ä»“åº“çš„ GitHub Pagesï¼‰
- é¦–æ¬¡éƒ¨ç½²å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´
- æ¯æ¬¡æ¨é€åˆ°ä¸»åˆ†æ”¯éƒ½ä¼šè§¦å‘é‡æ–°éƒ¨ç½²
- æ„å»ºå¤±è´¥æ—¶ä¼šåœ¨ GitHub Actions ä¸­æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
- æ‰‹åŠ¨éƒ¨ç½²æ—¶ï¼Œå¤±è´¥ä¼šè§¦å‘æ¡Œé¢é€šçŸ¥æé†’
